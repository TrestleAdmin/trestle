@mixin tag-variant-color($background, $border, $color) {
  background-color: $background;
  border-color: $border;
  color: $color;
}

@mixin tag-variant($color, $bg-scale: $tag-bg-scale, $border-scale: $tag-border-scale, $hover-bg-scale: $tag-hover-bg-scale, $hover-border-scale: $tag-hover-border-scale) {
  $tag-background: shift-color($color, $bg-scale);
  $tag-border: shift-color($color, $border-scale);
  $tag-color: color-contrast($tag-background);

  $tag-hover-background: shift-color($color, $hover-bg-scale);
  $tag-hover-border: shift-color($color, $hover-border-scale);
  $tag-hover-color: color-contrast($tag-background);

  @include tag-variant-color($tag-background, $tag-border, $tag-color);

  @at-root a#{&} {
    &:hover, &:focus {
      @include tag-variant-color($tag-hover-background, $tag-hover-border, $tag-hover-color);
    }
  }
}

.tag {
  @include tag-variant($primary);
}

@each $state, $value in $theme-colors {
  .tag.tag-#{$state} {
    @include tag-variant($value);
  }
}
