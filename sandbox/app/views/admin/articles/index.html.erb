<% content_for(:title, admin.t("titles.index", default: "Listing %{pluralized_model_name}")) %>

<% toolbar(:primary) do |t| %>
  <%= t.new %>
<% end %>

<% toolbar(:secondary) do |t| %>
  <%= t.link "Batch Action (GET)", action: :batch_get, style: :info, data: { controller: "batch-action" } %>
  <%= t.link "Batch Action (POST)", action: :batch_post, style: :warning, data: { controller: "confirm batch-action", turbo_method: :post } %>
<% end %>

<% content_for(:utilities) do %>
  <%= render "scopes" %>
<% end if admin.scopes.any? %>

<%= render layout: "layout" do %>
  <%= index_turbo_frame do %>
    <% if hook?("resource.index.header") %>
      <header class="main-content-header">
        <%= hook("resource.index.header") %>
      </header>
    <% end %>

    <%= render "trestle/table/table", table: admin.table, collection: collection %>

    <footer class="main-content-footer">
      <%= hook("resource.index.footer") %>

      <%= pagination collection: collection, entry_name: admin.model_name, remote: admin.pagination_options[:ajax] %>
    </footer>
  <% end %>
<% end %>
